name: Upload Template

on:
        push:
                branches: [main]

jobs:
        build-and-upload:
                runs-on: ubuntu-latest
                steps:
                        - uses: actions/checkout@v3
                        - uses: pnpm/action-setup@v3
                          with:
                                  version: 8

                        - name: Use Node.js ${{ matrix.node-version }}
                          uses: actions/setup-node@v3
                          with:
                                  node-version: ${{ matrix.node-version }}
                                  cache: "pnpm"

                        - name: Install dependencies
                          run: pnpm install
                          working-directory: packages/template

                        - name: Build
                          run: pnpm build
                          working-directory: packages/template


                        - name: Upload build artifacts
                          uses: actions/upload-artifact@v4
                          with:
                                  name: template
                                  path: packages/template/build
                          
